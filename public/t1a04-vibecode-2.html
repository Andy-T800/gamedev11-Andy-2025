<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Minimal Text Pong</title>
  <style>
    body {
      background: black;
      color: white;
      font-family: monospace;
      white-space: pre;
      margin: 20px;
    }
  </style>
</head>
<body>
  <pre id="game"></pre>

  <script>
    const gameElement = document.getElementById('game');
    const width = 40;
    const height = 15;

    let playerPaddleY = Math.floor(height / 2);
    let aiPaddleY = Math.floor(height / 2);
    let ballX = Math.floor(width / 2);
    let ballY = Math.floor(height / 2);
    let ballDirX = 1; // 1 = right, -1 = left
    let ballDirY = 1; // 1 = down, -1 = up

    function drawGame() {
      let screen = '';

      for (let y = 0; y < height; y++) {
        for (let x = 0; x < width; x++) {
          // Left paddle
          if (x === 1 && (y === playerPaddleY || y === playerPaddleY - 1 || y === playerPaddleY + 1)) {
            screen += '|';
          }
          // Right paddle
          else if (x === width - 2 && (y === aiPaddleY || y === aiPaddleY - 1 || y === aiPaddleY + 1)) {
            screen += '|';
          }
          // Ball
          else if (x === ballX && y === ballY) {
            screen += 'O';
          }
          // Border top and bottom
          else if (y === 0 || y === height -1) {
            screen += '-';
          }
          // Border left and right
          else if (x === 0 || x === width - 1) {
            screen += '|';
          }
          else {
            screen += ' ';
          }
        }
        screen += '\n';
      }

      gameElement.textContent = screen;
    }

    function updateGame() {
      // Move ball
      ballX += ballDirX;
      ballY += ballDirY;

      // Bounce top and bottom
      if (ballY <= 1 || ballY >= height - 2) {
        ballDirY = -ballDirY;
      }

      // Ball hits player paddle
      if (ballX === 2 && (ballY === playerPaddleY || ballY === playerPaddleY -1 || ballY === playerPaddleY +1)) {
        ballDirX = 1;
      }

      // Ball hits AI paddle
      if (ballX === width - 3 && (ballY === aiPaddleY || ballY === aiPaddleY -1 || ballY === aiPaddleY +1)) {
        ballDirX = -1;
      }

      // Score and reset if ball passes paddles
      if (ballX <= 0 || ballX >= width -1) {
        ballX = Math.floor(width / 2);
        ballY = Math.floor(height / 2);
        ballDirX = ballDirX === 1 ? -1 : 1;
      }

      // Simple AI moves towards ball
      if (aiPaddleY < ballY) aiPaddleY++;
      else if (aiPaddleY > ballY) aiPaddleY--;

      drawGame();
    }

    // Control player paddle with keyboard arrows (Up/Down)
    document.onkeydown = function(e) {
      if (e.key === 'ArrowUp' && playerPaddleY > 1) playerPaddleY--;
      if (e.key === 'ArrowDown' && playerPaddleY < height - 2) playerPaddleY++;
      drawGame();
    }

    drawGame();
    setInterval(updateGame, 150);
  </script>
</body>
</html>

